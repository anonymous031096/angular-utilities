<table mat-table [dataSource]="dataSource" class="drop-shadow-md w-full">
  <!-- Position Column -->
  <ng-container *ngFor="let item of displayedColumns" [matColumnDef]="item">
    <th mat-header-cell *matHeaderCellDef>{{ item }}</th>
    <td mat-cell *matCellDef="let element">{{ element[item] }}</td>
  </ng-container>

  <!-- Name Column -->
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef>Name</th>
    <td mat-cell *matCellDef="let element">{{ element.name }}</td>
  </ng-container>

  <!-- Weight Column -->
  <ng-container matColumnDef="weight">
    <th mat-header-cell *matHeaderCellDef>Weight</th>
    <td mat-cell *matCellDef="let element">{{ element.weight }}</td>
  </ng-container>

  <!-- Symbol Column -->
  <ng-container matColumnDef="symbol">
    <th mat-header-cell *matHeaderCellDef>Symbol</th>
    <td mat-cell *matCellDef="let element">{{ element.symbol }}</td>
  </ng-container>

  <!-- Gen header -->
  <ng-container *ngFor="let row of headerGrid; let rowI = index">
    <ng-container *ngFor="let col of row; let colI = index">
      <ng-container [matColumnDef]="'headerRow' + (rowI + 1) + 'Col' + (colI + 1)">
        <th mat-header-cell *matHeaderCellDef [attr.colspan]="col.colspan" [attr.rowspan]="col.rowspan">{{ col.name }}</th>
      </ng-container>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="getHeaderRowName(rowI + 1, row)"></tr>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns" class="hidden"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
</table>

<!-- <table>
  <thead>
    <tr>
      <th colspan="2" rowspan="3">Các cấp IWP</th>
      <th colspan="4">KPI</th>
      <th colspan="2" rowspan="3">Thu nhập cố định</th>
      <th colspan="3">Hoa hồng iBond</th>
      <th colspan="2">Hoa hồng iConnect</th>
      <th colspan="3">Hoa hồng quỹ TCBF</th>
      <th colspan="2">Hoa hồng iSave</th>
    </tr>
    <tr>
      <th rowspan="2">Doanh số tối thiểu</th>
      <th colspan="2">Số lượng thành viên active</th>
      <th rowspan="2">Số lượng KH active</th>
      <th rowspan="2">Hoa hồng bán trực tiếp (% doanh số bán trực tiếp)</th>
      <th rowspan="2">Hoa hồng bán trực tiếp (% doanh số bán trực tiếp)</th>
      <th rowspan="2">Hoa hồng bán trực tiếp (% doanh số bán trực tiếp)</th>
      <th rowspan="2">Hoa hồng bán trực tiếp (% doanh số bán trực tiếp)</th>
      <th rowspan="2">Hoa hồng bán trực tiếp (% doanh số bán trực tiếp)</th>
      <th colspan="2">Hoa hồng bán trực tiếp</th>
      <th rowspan="2">Hoa hồng quản lý</th>
      <th rowspan="2">Hoa hồng quản lý</th>
      <th rowspan="2">Hoa hồng quản lý</th>
    </tr>
    <tr>
      <th>3 tháng đầu</th>
      <th>Sau đó</th>
      <th>Khi KH mua (% doanh số bán trực tiếp)</th>
      <th>Khi KH còn duy trì số dư (% doanh số bán trực tiếp/năm)</th>
    </tr>
  </thead>
</table> -->
